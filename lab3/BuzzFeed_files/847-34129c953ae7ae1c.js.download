(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{45412:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(52322),o=n(2784),i=n(13980),a=n.n(i),c=n(48243),s=n(29169),u=n(95069),l=n.n(u),d=function(e){var t=e.adPos,n=e.sidebarEl,i=e.className,a=e.topPadding,u=(0,o.useState)(0),d=u[0],f=u[1],p=(0,o.useContext)(c.oF),h=(0,o.useContext)(c.z1).adsDisabled,m=(0,o.useCallback)((function(){if(n.current){var e=p.getAvailableTop(n.current);f("number"===typeof a?e+a:e<=75?75:e-50)}}),[n,p,a]);return(0,o.useEffect)((function(){return m(),p.subscribe(m),function(){return p.unsubscribe(m)}}),[m,p]),h?null:(0,r.jsx)("div",{className:"".concat(l().container," ").concat(i||""),style:{top:"".concat(d,"px")},children:(0,r.jsx)(s.Z,{type:t,className:"Ad--sidebar"})})},f=n(8321),p=n.n(f),h=function(e){var t=e.position,n=(0,o.useRef)(null),i="promo-infinite";return"string"===typeof t&&t&&(i=t),(0,r.jsx)("aside",{className:p().sidebar,ref:n,children:(0,r.jsx)(d,{adPos:t<11?"promo".concat(t):i,sidebarEl:n,className:p().sidebarAd,topPadding:28})})};h.propTypes={position:a().oneOfType([a().number,a().string]).isRequired};var m=h},14847:function(e,t,n){"use strict";n.d(t,{O:function(){return ce},Z:function(){return se}});var r=n(94776),o=n.n(r),i=n(52322),a=n(2784),c=n(9772),s=n(48243),u=n(34014),l=n(30353),d=n(23796),f=n(1013),p=n(56758),h=n(36864),m=n(97196),v=n(99404);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return g="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},g(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}var w=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}var P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=O(i);function i(e){var t,n=e.programmaticOnly,r=void 0!==n&&n;return b(this,i),(t=o.call.apply(o,[this].concat(Array.prototype.slice.call(arguments))))._state.adCounter=0,t.programmaticOnly=r,t}return t=i,n=[{key:"getNextAd",value:function(){var e=g(_(i.prototype),"getNextAd",this).apply(this,arguments);return e&&!i.isDone(e)&&(e.key="".concat(e.slot.adPos,"-").concat(this._state.adCounter),this._state.adCounter++),this.programmaticOnly&&(e.slot.size=h.Z.exclude(e.slot.size,p.J7.FLUID,p.J7.NATIVE)),e}},{key:"isDone",value:function(e){return i.isDone(e)}},{key:"reset",value:function(){g(_(i.prototype),"reset",this).call(this),this._state.adCounter=0}}],n&&y(t.prototype,n),r&&y(t,r),i}(v.ZP),k=n(13980),C=n.n(k),S=n(41479),N=n(39786),I=n(33657),A=n(29169),F=n(4083);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}function B(e){return(0,I.buildPosBound)("story",e,40)}var D=function(e){var t=e.className,n=void 0===t?"":t,r=e.config,o=void 0===r?null:r,a=e.isMobile,c=void 0!==a&&a,s=e.posnum,l=void 0===s?null:s,d=e.stickyWithinPlaceholder,f=void 0!==d&&d,p=(0,N.a)();if(!p)return null;var h,m=B(l);h=T({},o||u.Z[m]);var v="Ad--section-wide xs-hide sm-block ".concat(n).trim();return p.isLargeScreen&&(h.size=(0,I.addBillboards)(h)),!c&&(0,i.jsx)(A.Z,{config:T({},h,(0,I.getWireframeOptions)(h)),className:v,getBFPLayout:function(e){return"bfp_spotlight_ad"===e?"wide":null},stickyWithinPlaceholder:f})},R=function(e){var t=e.className,n=void 0===t?"":t,r=e.config,o=void 0===r?null:r,a=e.isMobile,c=void 0===a||a,s=e.posnum,u=e.stickyWithinPlaceholder,l=void 0!==u&&u,d=o?null:B(s),f="md-hide lg-hide ".concat(n).trim();return c&&(0,i.jsx)(A.Z,{className:f,config:o,stickyWithinPlaceholder:l,type:d})},M=function(e){return(0,i.jsxs)(F.Z,{className:"ad-placeholder-section",children:[(0,i.jsx)(R,T({},e)),(0,i.jsx)(D,T({},e))]})},W=n(45412),Z=function(e){var t=e.className,n=void 0===t?"":t;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",className:n,children:(0,i.jsx)("path",{stroke:"#3B2738",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.018 4.223c.664 1.042 1.66 1.978 2.764 2.53m-2.764-2.53c-2.55 2.617-5.11 5.24-7.642 7.873l-.103.56c-.143.778-.282 1.557-.423 2.335a.14.14 0 0 0 .163.163 454.145 454.145 0 0 0 2.9-.531c2.638-2.64 5.251-5.252 7.87-7.87m-2.764-2.53c.292-.306.589-.608.884-.911a1.125 1.125 0 0 1 1.56-.053l1.126 1.013c.479.431.498 1.176.042 1.632l-.849.849"})})},L=n(58599),z=n(41968),q=n.n(z);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}var U=function(e){var t=e.hasSponsor,n=void 0!==t&&t,r=e.isTrackable,o=void 0!==r&&r,a=e.trackingData,c=void 0===a?{}:a;return(0,i.jsxs)("div",{className:"".concat(q().feedBottom," ").concat(n?q().sponsored:""),children:[(0,i.jsx)("h2",{children:"You\u2019re up to date \ud83c\udf89 Come back later for new content"}),!n&&o&&(0,i.jsxs)(L.Z,{href:"/community/contribute",className:q().button,commonTrackingData:G({item_type:"button",item_name:"write_your_own_post",target_content_type:"feed",target_content_id:"community_contribute"},c),children:[(0,i.jsx)(Z,{className:q().icon})," Write your own post or quiz"]}),!n&&!o&&(0,i.jsxs)("a",{href:"/community/contribute",className:q().button,children:[(0,i.jsx)(Z,{className:q().icon})," Write your own post or quiz"]})]})},H=n(17601),V=n(8321),Y=n.n(V);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$(i,r,o,a,c,"next",e)}function c(e){$(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ne(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(){var e=K(o().mark((function e(t){var n,r,i,a,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="dev"===l.ov||window.location.hostname.includes("buzzfeed.io")?l.u8:l.Xb,r=new URL(t),i=r.pathname,a=r.search,c=i.split("feed-api/v1/")[1],s="".concat(n,"next/").concat(c).concat(a),e.prev=4,e.next=7,fetch(s,{"Content-Type":"application/json"});case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t=e.object_type;return["package","page_header"].includes(t)},ie=function(e){var t=e.adSidebarPosition,n=e.children,r=e.content,o=e.displayOptions,a=e.headline,c="number"===typeof t?t-1:null,s=a&&(!o||!o.hasOwnProperty("show_display_name")||o.show_display_name);return r.length||n||s?(0,i.jsxs)("div",{className:Y().contentContainer,children:[n&&(0,i.jsx)("section",{className:Y().top,children:n}),s&&(0,i.jsx)("header",{className:Y().header,children:(0,i.jsx)("h2",{className:Y().headline,children:a})}),!!r.length&&(0,i.jsx)("ul",{className:"".concat(Y().content," ").concat(Y()[(null===o||void 0===o?void 0:o.grid)||"one_column"]),children:r}),"number"===typeof c&&(0,i.jsx)(W.Z,{position:0===c?"bigstory":c})]}):null};ie.propTypes={adSidebarPosition:C().number,children:C().node,className:C().string,content:C().arrayOf(C().node),displayOptions:C().object,headline:C().string};var ae={adsAfterInitialPositions:[],data:{},sponsor:{},trackingData:{}},ce=function(e){var t,n,r=e.adsAfterInitialPositions,l=void 0===r?ae.adsAfterInitialPositions:r,v=e.adsInlineAfterEveryNthPosition,b=void 0===v?5:v,y=e.adsStartIndex,g=void 0===y?1:y,_=e.children,x=e.componentIndex,j=void 0===x?0:x,w=e.data,O=void 0===w?ae.data:w,k=e.getTrackingDataWithPosition,C=e.headline,N=void 0===C?"":C,I=e.isTrackable,A=void 0!==I&&I,F=e.maxItemsPerSequence,E=void 0===F?5:F,T=e.pageName,B=void 0===T?"":T,D=e.sharedIndexRef,R=e.showEndOfFeedCard,Z=void 0!==R&&R,L=e.showNumbering,z=void 0!==L&&L,q=e.showSidebar,J=void 0===q||q,G=e.sponsor,V=void 0===G?ae.sponsor:G,X=e.trackingData,$=void 0===X?ae.trackingData:X,Q=te(e,["adsAfterInitialPositions","adsInlineAfterEveryNthPosition","adsStartIndex","children","componentIndex","data","getTrackingDataWithPosition","headline","isTrackable","maxItemsPerSequence","pageName","sharedIndexRef","showEndOfFeedCard","showNumbering","showSidebar","sponsor","trackingData"]),ce=(0,a.useContext)(c.$),se=(0,a.useContext)(s.z1).adsDisabled,ue=(0,a.useState)(!1),le=ue[0],de=ue[1],fe=(0,a.useState)(null),pe=fe[0],he=fe[1],me=(0,m.ac)().isMobile,ve=(0,a.useState)(O.items||[]),be=ve[0],ye=ve[1],ge=(0,a.useState)(O.next),_e=ge[0],xe=ge[1],je=(0,a.useState)(!1),we=je[0],Oe=je[1],Pe=(0,m.EF)().trackContentAction,ke="tab_latest"===O.name,Ce=!!(null===V||void 0===V||null===(t=V.name)||void 0===t?void 0:t.length),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:{}};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>2?arguments[2]:void 0,r="".concat(arguments.length>1?arguments[1]:void 0,"-").concat(n);return e.current[t]||(e.current[t]={count:0,ads:{}}),void 0===e.current[t].ads[r]&&(e.current[t].count++,e.current[t].ads[r]=e.current[t].count),e.current[t].ads[r]}}(D),Ne=null===O||void 0===O||null===(n=O.metadata)||void 0===n?void 0:n.display_options;(0,a.useEffect)((function(){if(!be||"loaded"!==ce.status)return function(){};Q.isNext||de(!0);var e=function(){de(!0)};return window.addEventListener(d.SP,e),function(){window.removeEventListener(d.SP,e),de(!1)}}),[ce,Q.isNext]),(0,a.useEffect)((function(){if(!le||!be.length||se)return function(){};for(var e=[],t=g;void 0!==u.Z["story".concat(t)];t++){var n=u.Z["story".concat(t)];n.size=h.Z.exclude(n.size,p.J7.PROGRAMMATIC_BILLBOARD,p.J7.PROGRAMMATIC_SUPER_LEADERBOARD),e.push(n)}var r=new P({config:{units:e,density:0}}),i=function(){var e=K(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.init();case 3:he(r),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return i(),function(){r.destroy(),he(null)}}),[le,g]);var Ie=(0,a.useMemo)((function(){return K(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe(!0),A&&Pe(ee({},$,{action_type:"show",action_value:"load_more",item_name:"load_more",item_type:"button",target_content_id:"",target_content_type:"",target_content_url:""})),e.next=4,re(_e);case 4:if(!(t=e.sent).ok){e.next=15;break}return e.next=8,null===t||void 0===t?void 0:t.json();case 8:n=e.sent,r=n.items,i=n.next,ye((function(e){return ne(e).concat(ne(r))})),xe(i),e.next=16;break;case 15:xe(null);case 16:Oe(!1);case 17:case"end":return e.stop()}}),e)})))}),[A,$,_e,Pe,ye,xe]),Ae=(0,a.useMemo)((function(){return(0,i.jsxs)(a.Fragment,{children:[(!Ne||Ne.enable_pagination)&&_e&&(0,i.jsx)("li",{className:"".concat(Y().loadMoreButton," ").concat(we?Y().fetchingMoreFeedItems:""),children:(0,i.jsx)(H.Z,{onClick:Ie,title:"Load More"})}),Z&&!_e&&(0,i.jsx)("li",{children:(0,i.jsx)(U,{hasSponsor:Ce,isTrackable:A,trackingData:$})})]},"feedListEnd")}),[_e,we,Z,Ie,Ce,A,$]);return(0,a.useMemo)((function(){for(var e,t=ne(l).sort((function(e,t){return e-t})),n=t[t.length-1]||0,r=[],o=E&&n?n+b:E||1/0,c=[],s=0,u=0,d=0,p=null,h=(null===O||void 0===O?void 0:O.startIndexLabel)||0,m=(null===O||void 0===O||null===(e=O.metadata)||void 0===e?void 0:e.display_options)||{},v="standard_page"===B&&j>0,y=function(e){var t,n,o=e.isFullWidthContentItem,a=e.isLastItem,s=0===r.length;if(s&&o&&0===d&&"page_header"!==be[0].object_type)return null;J&&(null===p&&d+(o?0:1)>=4||null!==p&&d-p-(o?1:0)>=4||be.length<=4&&a&&!o)&&(n=Se("promo",j,u),u++);var l=(0,i.jsx)(ie,{adSidebarPosition:n,content:c,displayOptions:(null===O||void 0===O||null===(t=O.metadata)||void 0===t?void 0:t.display_options)||{},headline:s&&"page_header"!==be[0].object_type&&N,children:s&&_},"contentSegment-".concat(r.length));return c=[],l},x=function(e,t){t=null!==t?t:function(e){throw e}(new TypeError("Cannot destructure undefined"));var n={position_in_unit:e-1};if("function"===typeof k){var r=k(e-1)||{};"object"===typeof r&&Object.keys(r).length&&(n=r)}return ee({},$,n)},w=1;w<=be.length;w++){var P,C=be[w-1],I=!v&&oe(C),F=x(w,C),T=null!==(P=t[0])&&void 0!==P?P:0,D=w===be.length,R=w<=o,Z=T||b,L=E&&(d+1)%(R?o:E)===0,q=!D&&!L&&(R&&(T||n)?Math.max(w-(T?0:n),1)%Z===0:(d+1)%Z===0),G=(0,i.jsx)(S.Z,{className:["bfp_content"===C.object_type?Y().bfpContent:"topic"===B?"topicPostCard":"",I&&"".concat(Y().segment," ").concat(Y().fullWidthContent)].filter(Boolean).join(" "),displayOptions:m,item:C,index:z?String(w+h):null,isTrackable:A,trackingData:F,showSection:ke},"contentComponent-".concat(C.id));if(I?(r.push((0,i.jsxs)(a.Fragment,{children:[y({isFullWidthContentItem:I,isLastItem:D}),G]},"fullWidthContent-".concat(C.id))),p=d):c.push((0,i.jsx)("li",{className:Y().feedItem,children:G},"content-".concat(C.id))),q){var U=Se("story",j,s),H=null===pe||void 0===pe?void 0:pe.getAd(U-1);pe&&H&&pe.isDone(H)||c.push((0,i.jsx)("li",{className:Y().feedItemAd,children:(0,i.jsx)(f.B,{config:null===H||void 0===H?void 0:H.slot,renderPlaceholderOnly:!pe})},"inlineAd-".concat(U))),s++,t.shift()}if(D&&c.push(Ae),L||D){var V=null;if(!D){var X=Se("story",j,s)-1+g;V=(0,i.jsx)(M,{isMobile:me,posnum:X,stickyWithinPlaceholder:!0}),s++}r.push((0,i.jsxs)(a.Fragment,{children:[!I&&y({isFullWidthContentItem:I,isLastItem:D}),V]},"lastItem-".concat(w))),p=null,d=0}else d++}return 0===be.length&&_&&r.push((0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:Y().contentContainer,children:[(0,i.jsx)(i.Fragment,{children:_&&(0,i.jsx)("section",{className:Y().top,children:_})}),(0,i.jsx)(W.Z,{position:"bigstory"})]},"feedGroupWrapper-".concat(0))})),r}),[pe,_,be,Ae,N,me,A,E,B,z,ke])};ce.propTypes={adsInlineAfterEveryNthPosition:C().number,adsAfterInitialPositions:C().arrayOf(C().number),adsStartIndex:C().number,children:C().oneOfType([C().arrayOf(C().node),C().node]),data:C().object.isRequired,headline:C().oneOfType([C().string,C().node,C().elementType]),isTrackable:C().bool,maxItemsPerSequence:C().number,pageName:C().string,sharedIndexRef:C().object,showEndOfFeedCard:C().bool,showNumbering:C().bool,showSidebar:C().bool,sponsor:C().object,trackingData:C().object};var se=ce},95069:function(e){e.exports={container:"adStickySidebar_container__HS5kf"}},41968:function(e){e.exports={feedBottom:"feedBottom_feedBottom__q3BUn",sponsored:"feedBottom_sponsored__sPFAT",button:"feedBottom_button__eP1Hz",icon:"feedBottom_icon__Rg2uT"}},8321:function(e){e.exports={contentContainer:"FeedContent_contentContainer__ZoKVf",header:"FeedContent_header__qOAxr",top:"FeedContent_top__TYZB_",content:"FeedContent_content__uswYd",two_columns:"FeedContent_two_columns__WGgyQ",feedItem:"FeedContent_feedItem__TJB4I",headline:"FeedContent_headline__XJeuG",sidebar:"FeedContent_sidebar__xyZFx",sidebarAd:"FeedContent_sidebarAd__tyBSB",loadMoreButton:"FeedContent_loadMoreButton__JD6xu",fetchingMoreFeedItems:"FeedContent_fetchingMoreFeedItems___HxyN",ctaWrap:"FeedContent_ctaWrap__f5_Vq"}}}]);
//# sourceMappingURL=847-34129c953ae7ae1c.js.map